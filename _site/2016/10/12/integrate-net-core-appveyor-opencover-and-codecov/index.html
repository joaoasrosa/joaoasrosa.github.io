<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.0 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Integrate .NET Core, AppVeyor, OpenCover and Codecov - joaoasrosa.github.io</title>
<meta name="description" content="As a developer, I need to take a good rest at night. In my line of work the only way to achieve it is using an integrated workflow pipeline, aka Source Code Management (SCM), Continuous Integration (CI) and Continuous Deployment (CD) with some tools in the middle.For my new pet project (I will write about it once reach a good maturity level) I use this set of tools/technologies:.NET Core as the frameworkGitHub as SCMAppVeyor as CI &amp; CDOpenCover as Code Coverage Reporting GeneratorCodeCov as Code Coverage RepositoryNuGet as repository for project packagesOpenCover is the most used framework to generate code coverage reports for .NET framework. It&#39;s open source and well maintain (updated to work with .NET Core).Codecov is a commercial project from Steve Peak, free for open source projects, and has powerful visualisations from the code coverage report. Can be used with a tonne of frameworks/languages, using OpenCover report format for the .NET framework. Is my preferred platform, since Steve has a great customer service support.My integrated workflow pipeline is:Commit to GitHub projectAppVeyor is configured to be triggered when a new commit is doneAppVeyor builds the solution, run the tests and generate the code coverage reportAppVeyor publish the code coverage report to CodeCovTo manage the AppVeyor actions during the build and tests phases I just develop a PowerShell script to run the generate the code coverage report using OpenCover for the projects/classes under test:https://gist.github.com/joaoasrosa/80a322d57ee6243374f2463f9a41d05fThe script instructions do the following:Set as parameters the general configurations, such as locations of the code coverage report, OpenCover and .NET, using the AppVeyor environment variables to set the correct pathSet the parameters to test the WebAPplicationAssemblyStorage project, excluding a dummy class, running the OpenCover console using the parametersSet the parameters to test the WebApp project, excluding all the bootstrapping code generated by the .NET framework when a web app is created, running the OpenCover console using the parametersCopy the code coverage report to the AppVeyor artifactsSet the Python version in the PATH environment variable, installing Python Package Manager and Codecov script, and uploading the code coverage report to CodecovThe Powershell is integrated into appveyor.yml file, integrated into the project solution. The script runs in the &#39;test_script&#39; step.NOTE: at the time that you are reading this post the script can be different. If that is the case please leave a comment and I will update the Gist. :)">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="joaoasrosa.github.io">
<meta property="og:title" content="Integrate .NET Core, AppVeyor, OpenCover and Codecov">
<meta property="og:url" content="http://localhost:4000/2016/10/12/integrate-net-core-appveyor-opencover-and-codecov/">


  <meta property="og:description" content="As a developer, I need to take a good rest at night. In my line of work the only way to achieve it is using an integrated workflow pipeline, aka Source Code Management (SCM), Continuous Integration (CI) and Continuous Deployment (CD) with some tools in the middle.For my new pet project (I will write about it once reach a good maturity level) I use this set of tools/technologies:.NET Core as the frameworkGitHub as SCMAppVeyor as CI &amp; CDOpenCover as Code Coverage Reporting GeneratorCodeCov as Code Coverage RepositoryNuGet as repository for project packagesOpenCover is the most used framework to generate code coverage reports for .NET framework. It&#39;s open source and well maintain (updated to work with .NET Core).Codecov is a commercial project from Steve Peak, free for open source projects, and has powerful visualisations from the code coverage report. Can be used with a tonne of frameworks/languages, using OpenCover report format for the .NET framework. Is my preferred platform, since Steve has a great customer service support.My integrated workflow pipeline is:Commit to GitHub projectAppVeyor is configured to be triggered when a new commit is doneAppVeyor builds the solution, run the tests and generate the code coverage reportAppVeyor publish the code coverage report to CodeCovTo manage the AppVeyor actions during the build and tests phases I just develop a PowerShell script to run the generate the code coverage report using OpenCover for the projects/classes under test:https://gist.github.com/joaoasrosa/80a322d57ee6243374f2463f9a41d05fThe script instructions do the following:Set as parameters the general configurations, such as locations of the code coverage report, OpenCover and .NET, using the AppVeyor environment variables to set the correct pathSet the parameters to test the WebAPplicationAssemblyStorage project, excluding a dummy class, running the OpenCover console using the parametersSet the parameters to test the WebApp project, excluding all the bootstrapping code generated by the .NET framework when a web app is created, running the OpenCover console using the parametersCopy the code coverage report to the AppVeyor artifactsSet the Python version in the PATH environment variable, installing Python Package Manager and Codecov script, and uploading the code coverage report to CodecovThe Powershell is integrated into appveyor.yml file, integrated into the project solution. The script runs in the &#39;test_script&#39; step.NOTE: at the time that you are reading this post the script can be different. If that is the case please leave a comment and I will update the Gist. :)">







  <meta property="article:published_time" content="2016-10-12T15:10:55+02:00">






<link rel="canonical" href="http://localhost:4000/2016/10/12/integrate-net-core-appveyor-opencover-and-codecov/">













<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="joaoasrosa.github.io Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">joaoasrosa.github.io</a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name"></h3>
    
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      
        <li>
          <a href="mailto:joaoasrosa@gmail.com">
            <meta itemprop="email" content="joaoasrosa@gmail.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Integrate .NET Core, AppVeyor, OpenCover and Codecov">
    <meta itemprop="description" content="As a developer, I need to take a good rest at night. In my line of work the only way to achieve it is using an integrated workflow pipeline, aka Source Code Management (SCM), Continuous Integration (CI) and Continuous Deployment (CD) with some tools in the middle.For my new pet project (I will write about it once reach a good maturity level) I use this set of tools/technologies:.NET Core as the frameworkGitHub as SCMAppVeyor as CI &amp; CDOpenCover as Code Coverage Reporting GeneratorCodeCov as Code Coverage RepositoryNuGet as repository for project packagesOpenCover is the most used framework to generate code coverage reports for .NET framework. It&#39;s open source and well maintain (updated to work with .NET Core).Codecov is a commercial project from Steve Peak, free for open source projects, and has powerful visualisations from the code coverage report. Can be used with a tonne of frameworks/languages, using OpenCover report format for the .NET framework. Is my preferred platform, since Steve has a great customer service support.My integrated workflow pipeline is:Commit to GitHub projectAppVeyor is configured to be triggered when a new commit is doneAppVeyor builds the solution, run the tests and generate the code coverage reportAppVeyor publish the code coverage report to CodeCovTo manage the AppVeyor actions during the build and tests phases I just develop a PowerShell script to run the generate the code coverage report using OpenCover for the projects/classes under test:https://gist.github.com/joaoasrosa/80a322d57ee6243374f2463f9a41d05fThe script instructions do the following:Set as parameters the general configurations, such as locations of the code coverage report, OpenCover and .NET, using the AppVeyor environment variables to set the correct pathSet the parameters to test the WebAPplicationAssemblyStorage project, excluding a dummy class, running the OpenCover console using the parametersSet the parameters to test the WebApp project, excluding all the bootstrapping code generated by the .NET framework when a web app is created, running the OpenCover console using the parametersCopy the code coverage report to the AppVeyor artifactsSet the Python version in the PATH environment variable, installing Python Package Manager and Codecov script, and uploading the code coverage report to CodecovThe Powershell is integrated into appveyor.yml file, integrated into the project solution. The script runs in the &#39;test_script&#39; step.NOTE: at the time that you are reading this post the script can be different. If that is the case please leave a comment and I will update the Gist. :)">
    <meta itemprop="datePublished" content="October 12, 2016">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Integrate .NET Core, AppVeyor, OpenCover and Codecov
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>As a developer, I need to take a good rest at night. In my line of work the only way to achieve it is using an integrated workflow pipeline, aka Source Code Management (SCM), Continuous Integration (CI) and Continuous Deployment (CD) with some tools in the middle.</p>
<p>For my <a href="https://github.com/joaoasrosa/unittestsexternalsources">new pet project</a> (I will write about it once reach a good maturity level) I use this set of tools/technologies:</p>
<ul>
<li><a href="https://www.microsoft.com/net/core">.NET Core</a> as the framework</li>
<li><a href="https://github.com/">GitHub</a> as SCM</li>
<li><a href="https://www.appveyor.com/">AppVeyor</a> as CI &amp; CD</li>
<li><a href="https://github.com/OpenCover/opencover">OpenCover</a> as Code Coverage Reporting Generator</li>
<li><a href="https://codecov.io/">CodeCov</a> as Code Coverage Repository</li>
<li><a href="http://nuget.org/">NuGet</a> as repository for project packages</li>
</ul>
<p>OpenCover is the most used framework to generate code coverage reports for .NET framework. It's open source and well maintain (updated to work with .NET Core).</p>
<p>Codecov is a commercial project from <a href="https://twitter.com/iopeak">Steve Peak</a>, free for open source projects, and has powerful visualisations from the code coverage report. Can be used with a tonne of frameworks/languages, using OpenCover report format for the .NET framework. Is my preferred platform, since Steve has a great customer service support.</p>
<p>My integrated workflow pipeline is:</p>
<ol>
<li>Commit to GitHub project</li>
<li>AppVeyor is configured to be triggered when a new commit is done</li>
<li>AppVeyor builds the solution, run the tests and generate the code coverage report</li>
<li>AppVeyor publish the code coverage report to CodeCov</li>
</ol>
<p>To manage the AppVeyor actions during the build and tests phases I just develop a PowerShell script to run the generate the code coverage report using OpenCover for the projects/classes under test:</p>
<p>https://gist.github.com/joaoasrosa/80a322d57ee6243374f2463f9a41d05f</p>
<p>The script instructions do the following:</p>
<ol>
<li>Set as parameters the general configurations, such as locations of the code coverage report, OpenCover and .NET, using the <a href="https://www.appveyor.com/docs/environment-variables/">AppVeyor environment variables</a> to set the correct path</li>
<li>Set the parameters to test the WebAPplicationAssemblyStorage project, excluding a dummy class, running the OpenCover console using the parameters</li>
<li>Set the parameters to test the WebApp project, excluding all the bootstrapping code generated by the .NET framework when a web app is created, running the OpenCover console using the parameters</li>
<li>Copy the code coverage report to the AppVeyor artifacts</li>
<li>Set the Python version in the PATH environment variable, installing Python Package Manager and Codecov script, and uploading the code coverage report to Codecov</li>
</ol>
<p>The Powershell is integrated into <a href="https://github.com/joaoasrosa/unittestsexternalsources/blob/master/appveyor.yml">appveyor.yml</a> file, integrated into the project solution. The script runs in the 'test_script' step.</p>
<p>NOTE: at the time that you are reading this post the script can be different. If that is the case please leave a comment and I will update the Gist. :)</p>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2016-10-12T15:10:55+02:00">October 12, 2016</time></p>
        
      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=Integrate+.NET+Core%2C+AppVeyor%2C+OpenCover+and+Codecov%20http%3A%2F%2Flocalhost%3A4000%2F2016%2F10%2F12%2Fintegrate-net-core-appveyor-opencover-and-codecov%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2F2016%2F10%2F12%2Fintegrate-net-core-appveyor-opencover-and-codecov%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2F2016%2F10%2F12%2Fintegrate-net-core-appveyor-opencover-and-codecov%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/2016/09/14/update-project-json-version-number-in-appveyor/" class="pagination--pager" title="Update project.json version number in AppVeyor
">Previous</a>
    
    
      <a href="/2016/12/02/changing-the-operations-of-a-software-company-part-i/" class="pagination--pager" title="Changing the operations of a Software Company - Part I
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2019/01/24/build-and-secure-containers-to-support-your-ci-cd-pipeline/" rel="permalink">Build and secure containers to support your CI/CD pipeline
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">
There are 2 systems in any company that are critical: the payroll system, and the CI/CD system. Why? You may ask...If the payroll system doesn't work, peopl...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2019/01/13/using-flyway-and-gitlab-to-deploy-a-mysql-database-to-aws-rds-securely/" rel="permalink">Using Flyway and GitLab to deploy a MySQL database to AWS RDS securely
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">
One of my passions is to be a trainer. Sharing knowledge, meeting new people, be continuously challenged, it fuels my brain, and I'm always learning somethi...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2018/10/07/what-i-learned-from-live-coding-during-talks/" rel="permalink">What I learned from live coding during talks
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Last week, Kenny Baas and I, delivered 2 talks with live coding. We were at NextBuild (with From EventStorming to CoDDDing) and Techorama NL (with Improving ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2018/05/21/life-of-a-c-developer-how-to-build-and-test-an-aws-lambda-locally/" rel="permalink">Life of a C# Developer: How to build and test an AWS Lambda locally
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  5 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Today Serverless is a thing. Although everyone can write a blog post about how Serverless run on servers, I share the same visions as Mathias Verraes:
https:...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 joaoasrosa.github.io. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.1/js/all.js" integrity="sha384-g5uSoOSBd7KkhAMlnQILrecXvzst9TdC09/VM+pjDTCM+1il8RHz5fKANTFFb+gQ" crossorigin="anonymous"></script>










  </body>
</html>
