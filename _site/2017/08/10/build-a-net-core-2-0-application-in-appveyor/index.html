<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.0 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Build a .NET Core 2.0 Application in AppVeyor - joaoasrosa.github.io</title>
<meta name="description" content="AppVeyor is one of the Continuous Integration Services in the cloud, ready to use, with minimal configuration. It provides a Windows Server image with tooling to build, test and deploy ours .NET applications. Among the baseline software is .NET Core, however, the version is 1.0.4 (at the time of writing this post).If we are playing around with .NET Core 2.0, AppVeyor doesn&#39;t offer the SDK (or the SDK build version that we need). Don&#39;t panic, it is possible to download and install other .NET Core SDKs into the instance during our build process. After poking the Internet, the .NET Team offers a Powershell and a Bash script to download and install the SDK by version.Following the documentation, we can install any SDK version using the terminal/command line. The version that my project needs is 2.0.0-preview2-006497. Let the games begin!In a Powershell command line, I craft the command for my version, as:.\dotnet-install.ps1 -Version 2.0.0-preview2-006497And Powershell informed me:Hmmm, the required version doesn&#39;t exist in the blob. A roadblock... Nothing major. Opening the [source code]script_source_code of the script, we can see that the SDK download link is built based on a few parameters.The .NET Team already did all the work regarding downloading, unpacking and installing the SDK, and I can leverage the script to get the SDK from another source. The official download link is https://download.microsoft.com/download/F/A/A/FAAE9280-F410-458E-8819-279C5A68EDCF/dotnet-sdk-2.0.0-preview2-006497-win-x64.zip.Doing a little tweak to the file, it is possible to point the download of the SDK to the official download link:# $DownloadLinks = Get-Download-Links -AzureFeed $AzureFeed -AzureChannel $AzureChannel -SpecificVersion $SpecificVersion -CLIArchitecture $CLIArchitecture$DownloadLinks = @(&quot;https://download.microsoft.com/download/F/A/A/FAAE9280-F410-458E-8819-279C5A68EDCF/dotnet-sdk-2.0.0-preview2-006497-win-x64.zip&quot;)At this point, I have all the individual components to make the final solution. The appveyor.yml file needs to execute the dotnet_install script before building the .NET Core 2 application:version: 0.0.{build}image: Visual Studio 2017 Previewbuild_script:- ps: &gt;-    ./build/install-dotnet.ps1    dotnet --version    # Build applicationtest: offAnd AppVeyor reports:Hurray, I have .NET Core 2.0 SDK installed, and my application is built successfully! :)You can use this solution to install any version of the SDK that is not supported by the AppVeyor official image. You can jump to .NET Core 2.1!">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="joaoasrosa.github.io">
<meta property="og:title" content="Build a .NET Core 2.0 Application in AppVeyor">
<meta property="og:url" content="http://localhost:4000/2017/08/10/build-a-net-core-2-0-application-in-appveyor/">


  <meta property="og:description" content="AppVeyor is one of the Continuous Integration Services in the cloud, ready to use, with minimal configuration. It provides a Windows Server image with tooling to build, test and deploy ours .NET applications. Among the baseline software is .NET Core, however, the version is 1.0.4 (at the time of writing this post).If we are playing around with .NET Core 2.0, AppVeyor doesn&#39;t offer the SDK (or the SDK build version that we need). Don&#39;t panic, it is possible to download and install other .NET Core SDKs into the instance during our build process. After poking the Internet, the .NET Team offers a Powershell and a Bash script to download and install the SDK by version.Following the documentation, we can install any SDK version using the terminal/command line. The version that my project needs is 2.0.0-preview2-006497. Let the games begin!In a Powershell command line, I craft the command for my version, as:.\dotnet-install.ps1 -Version 2.0.0-preview2-006497And Powershell informed me:Hmmm, the required version doesn&#39;t exist in the blob. A roadblock... Nothing major. Opening the [source code]script_source_code of the script, we can see that the SDK download link is built based on a few parameters.The .NET Team already did all the work regarding downloading, unpacking and installing the SDK, and I can leverage the script to get the SDK from another source. The official download link is https://download.microsoft.com/download/F/A/A/FAAE9280-F410-458E-8819-279C5A68EDCF/dotnet-sdk-2.0.0-preview2-006497-win-x64.zip.Doing a little tweak to the file, it is possible to point the download of the SDK to the official download link:# $DownloadLinks = Get-Download-Links -AzureFeed $AzureFeed -AzureChannel $AzureChannel -SpecificVersion $SpecificVersion -CLIArchitecture $CLIArchitecture$DownloadLinks = @(&quot;https://download.microsoft.com/download/F/A/A/FAAE9280-F410-458E-8819-279C5A68EDCF/dotnet-sdk-2.0.0-preview2-006497-win-x64.zip&quot;)At this point, I have all the individual components to make the final solution. The appveyor.yml file needs to execute the dotnet_install script before building the .NET Core 2 application:version: 0.0.{build}image: Visual Studio 2017 Previewbuild_script:- ps: &gt;-    ./build/install-dotnet.ps1    dotnet --version    # Build applicationtest: offAnd AppVeyor reports:Hurray, I have .NET Core 2.0 SDK installed, and my application is built successfully! :)You can use this solution to install any version of the SDK that is not supported by the AppVeyor official image. You can jump to .NET Core 2.1!">







  <meta property="article:published_time" content="2017-08-10T11:45:01+02:00">






<link rel="canonical" href="http://localhost:4000/2017/08/10/build-a-net-core-2-0-application-in-appveyor/">













<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="joaoasrosa.github.io Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">joaoasrosa.github.io</a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name"></h3>
    
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      
        <li>
          <a href="mailto:joaoasrosa@gmail.com">
            <meta itemprop="email" content="joaoasrosa@gmail.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Build a .NET Core 2.0 Application in AppVeyor">
    <meta itemprop="description" content="AppVeyor is one of the Continuous Integration Services in the cloud, ready to use, with minimal configuration. It provides a Windows Server image with tooling to build, test and deploy ours .NET applications. Among the baseline software is .NET Core, however, the version is 1.0.4 (at the time of writing this post).If we are playing around with .NET Core 2.0, AppVeyor doesn&#39;t offer the SDK (or the SDK build version that we need). Don&#39;t panic, it is possible to download and install other .NET Core SDKs into the instance during our build process. After poking the Internet, the .NET Team offers a Powershell and a Bash script to download and install the SDK by version.Following the documentation, we can install any SDK version using the terminal/command line. The version that my project needs is 2.0.0-preview2-006497. Let the games begin!In a Powershell command line, I craft the command for my version, as:.\dotnet-install.ps1 -Version 2.0.0-preview2-006497And Powershell informed me:Hmmm, the required version doesn&#39;t exist in the blob. A roadblock... Nothing major. Opening the [source code]script_source_code of the script, we can see that the SDK download link is built based on a few parameters.The .NET Team already did all the work regarding downloading, unpacking and installing the SDK, and I can leverage the script to get the SDK from another source. The official download link is https://download.microsoft.com/download/F/A/A/FAAE9280-F410-458E-8819-279C5A68EDCF/dotnet-sdk-2.0.0-preview2-006497-win-x64.zip.Doing a little tweak to the file, it is possible to point the download of the SDK to the official download link:# $DownloadLinks = Get-Download-Links -AzureFeed $AzureFeed -AzureChannel $AzureChannel -SpecificVersion $SpecificVersion -CLIArchitecture $CLIArchitecture$DownloadLinks = @(&quot;https://download.microsoft.com/download/F/A/A/FAAE9280-F410-458E-8819-279C5A68EDCF/dotnet-sdk-2.0.0-preview2-006497-win-x64.zip&quot;)At this point, I have all the individual components to make the final solution. The appveyor.yml file needs to execute the dotnet_install script before building the .NET Core 2 application:version: 0.0.{build}image: Visual Studio 2017 Previewbuild_script:- ps: &gt;-    ./build/install-dotnet.ps1    dotnet --version    # Build applicationtest: offAnd AppVeyor reports:Hurray, I have .NET Core 2.0 SDK installed, and my application is built successfully! :)You can use this solution to install any version of the SDK that is not supported by the AppVeyor official image. You can jump to .NET Core 2.1!">
    <meta itemprop="datePublished" content="August 10, 2017">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Build a .NET Core 2.0 Application in AppVeyor
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p><a href="//www.appveyor.com/">AppVeyor</a> is one of the Continuous Integration Services in the cloud, ready to use, with minimal configuration. It provides a Windows Server image with tooling to build, test and deploy ours .NET applications. Among the baseline software is .NET Core, however, the version is 1.0.4 (at the time of writing this post).</p>
<p>If we are playing around with .NET Core 2.0, AppVeyor doesn't offer the SDK (or the SDK build version that we need). Don't panic, it is possible to download and install other .NET Core SDKs into the instance during our build process. After poking the Internet, the .NET Team offers a <a href="//docs.microsoft.com/en-us/dotnet/core/tools/dotnet-install-script">Powershell and a Bash script</a> to download and install the SDK by version.</p>
<p>Following the documentation, we can install any SDK version using the terminal/command line. The version that my project needs is <code>2.0.0-preview2-006497</code>. Let the games begin!</p>
<p>In a Powershell command line, I craft the command for my version, as:</p>
<pre><code>.\dotnet-install.ps1 -Version 2.0.0-preview2-006497</code></pre>
<p>And Powershell informed me:</p>
<p><img src="/assets/ps_dotnetinstall.png" alt="Powershell dotnet_install.ps1 -Version 2.0.0-preview2-006497 command result" /></p>
<p>Hmmm, the required version doesn't exist in the blob. A roadblock... Nothing major. Opening the [source code]<a href="//github.com/dotnet/cli/blob/rel/1.0.0/scripts/obtain/dotnet-install.ps1">script_source_code</a> of the script, we can see that the <a href="//github.com/dotnet/cli/blob/rel/1.0.0/scripts/obtain/dotnet-install.ps1#L396">SDK download link is built</a> based on a few parameters.</p>
<p>The .NET Team already did all the work regarding downloading, unpacking and installing the SDK, and I can leverage the script to get the SDK from another source. The official download link is <a href="//download.microsoft.com/download/F/A/A/FAAE9280-F410-458E-8819-279C5A68EDCF/dotnet-sdk-2.0.0-preview2-006497-win-x64.zip">https://download.microsoft.com/download/F/A/A/FAAE9280-F410-458E-8819-279C5A68EDCF/dotnet-sdk-2.0.0-preview2-006497-win-x64.zip</a>.</p>
<p>Doing a little tweak to <a href="//github.com/joaoasrosa/pullrequests-viewer/blob/master/build/install-dotnet.ps1#L396">the file</a>, it is possible to point the download of the SDK to the official download link:</p>
<pre><code># $DownloadLinks = Get-Download-Links -AzureFeed $AzureFeed -AzureChannel $AzureChannel -SpecificVersion $SpecificVersion -CLIArchitecture $CLIArchitecture
$DownloadLinks = @("https://download.microsoft.com/download/F/A/A/FAAE9280-F410-458E-8819-279C5A68EDCF/dotnet-sdk-2.0.0-preview2-006497-win-x64.zip")</code></pre>
<p>At this point, I have all the individual components to make the final solution. The <code>appveyor.yml</code> file needs to execute the <code>dotnet_install</code> script before building the .NET Core 2 application:</p>
<pre><code>version: 0.0.{build}
image: Visual Studio 2017 Preview
build_script:
- ps: &gt;-
    ./build/install-dotnet.ps1
    dotnet --version
    # Build application
test: off</code></pre>
<p>And AppVeyor reports:</p>
<p><img src="/assets/appveyor_build.png" alt="AppVeyor installs the .NET Core 2.0 SDK" /></p>
<p>Hurray, I have .NET Core 2.0 SDK installed, and my application is built successfully! :)</p>
<p>You can use this solution to install <em>any</em> version of the SDK that is not supported by the AppVeyor official image. You can jump to .NET Core 2.1!</p>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2017-08-10T11:45:01+02:00">August 10, 2017</time></p>
        
      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=Build+a+.NET+Core+2.0+Application+in+AppVeyor%20http%3A%2F%2Flocalhost%3A4000%2F2017%2F08%2F10%2Fbuild-a-net-core-2-0-application-in-appveyor%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2F2017%2F08%2F10%2Fbuild-a-net-core-2-0-application-in-appveyor%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2F2017%2F08%2F10%2Fbuild-a-net-core-2-0-application-in-appveyor%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/2017/02/04/create-and-push-a-docker-image-from-an-octopus-deployment/" class="pagination--pager" title="Create and Push a Docker Image from an Octopus Deployment
">Previous</a>
    
    
      <a href="/2017/10/01/ndepend-first-impressions-on-a-static-code-analyser/" class="pagination--pager" title="NDepend, first impressions on a static code analyser
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2019/01/24/build-and-secure-containers-to-support-your-ci-cd-pipeline/" rel="permalink">Build and secure containers to support your CI/CD pipeline
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">
There are 2 systems in any company that are critical: the payroll system, and the CI/CD system. Why? You may ask...If the payroll system doesn't work, peopl...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2019/01/13/using-flyway-and-gitlab-to-deploy-a-mysql-database-to-aws-rds-securely/" rel="permalink">Using Flyway and GitLab to deploy a MySQL database to AWS RDS securely
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">
One of my passions is to be a trainer. Sharing knowledge, meeting new people, be continuously challenged, it fuels my brain, and I'm always learning somethi...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2018/10/07/what-i-learned-from-live-coding-during-talks/" rel="permalink">What I learned from live coding during talks
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Last week, Kenny Baas and I, delivered 2 talks with live coding. We were at NextBuild (with From EventStorming to CoDDDing) and Techorama NL (with Improving ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2018/05/21/life-of-a-c-developer-how-to-build-and-test-an-aws-lambda-locally/" rel="permalink">Life of a C# Developer: How to build and test an AWS Lambda locally
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  5 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Today Serverless is a thing. Although everyone can write a blog post about how Serverless run on servers, I share the same visions as Mathias Verraes:
https:...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 joaoasrosa.github.io. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.1/js/all.js" integrity="sha384-g5uSoOSBd7KkhAMlnQILrecXvzst9TdC09/VM+pjDTCM+1il8RHz5fKANTFFb+gQ" crossorigin="anonymous"></script>










  </body>
</html>
